* D:\GITHUB\EE313-Term-project\Simulation\Sensing Unit\Sensing Unit.asc
XU5 N012 N005 12V -12V N006 LM741/NS
V1 LM35 0 SINE(0.3 0.3 10)
V2 12V 0 12V
R1 5V N008 4500
R2 N009 0 240
R3 N006 N005 25k
R4 N005 N007 1k
R5 N012 LM35 1k
R6 N012 0 25k
XU1 N009 N007 12V -12V N007 LM741/NS
V3 -12V 0 -12V
V4 5V 0 5V
D1 N006 N010 D
XU2 N011 Vout 12V -12V Vout LM741/NS
R7 N008 N009 350
R8 N011 N010 10k
D2 0 N011 ZD
.model D D
.lib C:\Users\erdem\Documents\LTspiceXVII\lib\cmp\standard.dio
.include D:\GITHUB\EE313-Term-project\Simulation\Sensing Unit\LM741.MOD
.tran 0 1 0
* X1
* X2
* X3
* X4
* X3
* X4
* Vd
* Vdd
* Vout = { [ LM35 - ( (X2/ (X0+X1+X2) )*Vdd )  ]* (X3/X4)  } - Vd,  Vout <V_zenner
* LM35: analog voltage output of LM35 temperature sensor
* Vdd: Voltage output of 5V linear voltage source
* Vd: voltage drop of diode
* X0
* Vout is zero if Voltage of LM35 is smaller \nthan voltage output of this section
* Substraction\nNote that voltage output of this section is always positive
* Voltage Follower\nNote that this section limits upper value of\nVout to V_zenner
* POTENTIOMETER-500Ohm
* SET POTENTIOMETER SUCH THAT WHEN \nLM35 IS 0.24V, Vout STARTS TO INCREASE
.model ZD D(Bv=4.3 type=zener)
.backanno
.end
